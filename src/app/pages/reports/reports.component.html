<div class="container-fluid fade-in">
    <div class="row mb-4">
        <div class="col-12">
            <h1 class="h3 mb-0">Reports</h1>
            <p class="text-muted">View and generate customized reports</p>
        </div>
    </div>

    <div class="row g-4">
        <div class="col-md-6 col-lg-4">
            <div class="card dashboard-card h-100 fade-in-up">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-primary-subtle p-3 me-3">
                            <i class="bi bi-bar-chart-line text-primary fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">Sales Report</h5>
                    </div>
                    <p class="card-text">View detailed sales performance over time with breakdowns by product, region,
                        and more.</p>
                    <a href="javascript:void(0)" class="btn btn-primary"
                        (click)="generateReport('Sales Report')">Generate</a>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-4">
            <div class="card dashboard-card h-100 fade-in-up">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-success-subtle p-3 me-3">
                            <i class="bi bi-people text-success fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">Customer Analytics</h5>
                    </div>
                    <p class="card-text">Analyze customer behavior, demographics, and purchasing patterns to identify
                        trends.</p>
                    <a href="javascript:void(0)" (click)="generateReport('Customer Analytics')"
                        class="btn btn-success">Generate</a>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-4">
            <div class="card dashboard-card h-100 fade-in-up">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-info-subtle p-3 me-3">
                            <i class="bi bi-box-seam text-info fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">Inventory Status</h5>
                    </div>
                    <p class="card-text">Track inventory levels, turnover rates, and identify potential stockout risks.
                    </p>
                    <a href="javascript:void(0)" class="btn btn-info"
                        (click)="generateReport('Inventory Status')">Generate</a>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-4">
            <div class="card dashboard-card h-100 fade-in-up">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-warning-subtle p-3 me-3">
                            <i class="bi bi-currency-dollar text-warning fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">Financial Summary</h5>
                    </div>
                    <p class="card-text">Comprehensive financial reports including revenue, expenses, profit margins,
                        and projections.</p>
                    <a href="javascript:void(0)" (click)="generateReport('Financial Summary')"
                        class="btn btn-warning">Generate</a>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-4">
            <div class="card dashboard-card h-100 fade-in-up">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-danger-subtle p-3 me-3">
                            <i class="bi bi-graph-up-arrow text-danger fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">Performance Metrics</h5>
                    </div>
                    <p class="card-text">Evaluate key performance indicators and benchmark against industry standards.
                    </p>
                    <a href="javascript:void(0)" class="btn btn-danger"
                        (click)="generateReport('Performance Metrics')">Generate</a>
                </div>
            </div>
        </div>

        <!-- <div class="col-md-6 col-lg-4">
            <div class="card dashboard-card h-100 fade-in-up">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle bg-secondary-subtle p-3 me-3">
                            <i class="bi bi-gear text-secondary fs-4"></i>
                        </div>
                        <h5 class="card-title mb-0">Custom Report</h5>
                    </div>
                    <p class="card-text">Build a custom report with your choice of metrics, timeframes, and
                        visualizations.</p>
                    <a href="javascript:void(0)" (click)="generateReport('Custom Report')"
                        class="btn btn-secondary">Configure</a>
                </div>
            </div>
        </div> -->
    </div>

    <div class="row mt-4">
        <div class="col-12">
            <div class="card dashboard-card fade-in-up">
                <div class="card-body">
                    <h5 class="card-title mb-4">Recent Reports</h5>

                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th (click)="sortReports('name')" style="cursor:pointer">
                                        Report Name
                                        <span *ngIf="sortColumn === 'name'">{{ sortDirection === 'asc' ? '▲' : '▼'
                                            }}</span>
                                    </th>
                                    <th (click)="sortReports('generatedDate')" style="cursor:pointer">
                                        Generated Date
                                        <span *ngIf="sortColumn === 'generatedDate'">{{ sortDirection === 'asc' ? '▲' :
                                            '▼' }}</span>
                                    </th>
                                    <th (click)="sortReports('type')" style="cursor:pointer">
                                        Type
                                        <span *ngIf="sortColumn === 'type'">{{ sortDirection === 'asc' ? '▲' : '▼'
                                            }}</span>
                                    </th>
                                    <th (click)="sortReports('size')" style="cursor:pointer">
                                        Size
                                        <span *ngIf="sortColumn === 'size'">{{ sortDirection === 'asc' ? '▲' : '▼'
                                            }}</span>
                                    </th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let report of reports">
                                    <td>{{ report.name }}</td>
                                    <td>{{ report.generatedDate | date:'MMM dd, yyyy' }}</td>
                                    <td>{{ report.type }}</td>
                                    <td>{{ report.size }}</td>
                                    <td>
                                        <!-- <button class="btn btn-sm btn-outline-primary me-1">View</button> -->
                                        <button class="btn btn-sm btn-outline-secondary"
                                            (click)="downloadReport(report.name)">Download</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div *ngIf="showToast" class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1055;">
        <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto">Report Generation</strong>
                <button type="button" class="btn-close" aria-label="Close" (click)="showToast = false"></button>
            </div>
            <div class="toast-body">
                {{ toastMessage }}
            </div>
        </div>
    </div>
</div>